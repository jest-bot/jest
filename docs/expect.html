<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Expect · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Expect · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="When you&#x27;re writing tests, you often need to check that values meet certain conditions. `expect` gives you access to a number of &quot;matchers&quot; that let you validate different things."><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/getting-started.html" class="active">Docs</a></li><li><a href="/jest/docs/api.html" class="">API</a></li><li><a href="/jest/help.html" class="">Help</a></li><li><a href="/jest/blog/" class="">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><a href="/jest/docs/api.html">API</a><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/api.html#content">Globals</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/configuration.html#content">Configuring package.json</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/cli.html#content">Jest CLI Options</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer referenceContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/ExpectAPI.md" target="_blank">Edit this Doc</a><h1>Expect</h1></header><article><div><p>When you&#x27;re writing tests, you often need to check that values meet certain conditions. <code>expect</code> gives you access to a number of &quot;matchers&quot; that let you validate different things.</p><h2><a class="anchor" name="methods"></a>Methods <a class="hash-link" href="#methods">#</a></h2><ul><li><a href="#expectvalue" target=""><code>expect(value)</code></a></li><li><a href="#expectextendmatchers" target=""><code>expect.extend(matchers)</code></a></li><li><a href="#thisisnot" target=""><code>this.isNot</code></a></li><li><a href="#thisutils" target=""><code>this.utils</code></a></li><li><a href="#expectanything" target=""><code>expect.anything()</code></a></li><li><a href="#expectanyconstructor" target=""><code>expect.any(constructor)</code></a></li><li><a href="#expectarraycontainingarray" target=""><code>expect.arrayContaining(array)</code></a></li><li><a href="#expectassertionsnumber" target=""><code>expect.assertions(number)</code></a></li><li><a href="#expectstringcontainingstring" target=""><code>expect.stringContaining(string)</code></a></li><li><a href="#expectstringmatchingregexp" target=""><code>expect.stringMatching(regexp)</code></a></li><li><a href="#expectobjectcontainingobject" target=""><code>expect.objectContaining(object)</code></a></li><li><a href="#not" target=""><code>.not</code></a></li><li><a href="#tobevalue" target=""><code>.toBe(value)</code></a></li><li><a href="#tohavebeencalled" target=""><code>.toHaveBeenCalled()</code></a></li><li><a href="#tohavebeencalledtimesnumber" target=""><code>.toHaveBeenCalledTimes(number)</code></a></li><li><a href="#tohavebeencalledwitharg1-arg2-" target=""><code>.toHaveBeenCalledWith(arg1, arg2, ...)</code></a></li><li><a href="#tohavebeenlastcalledwitharg1-arg2-" target=""><code>.toHaveBeenLastCalledWith(arg1, arg2, ...)</code></a></li><li><a href="#tobeclosetonumber-numdigits" target=""><code>.toBeCloseTo(number, numDigits)</code></a></li><li><a href="#tobedefined" target=""><code>.toBeDefined()</code></a></li><li><a href="#tobefalsy" target=""><code>.toBeFalsy()</code></a></li><li><a href="#tobegreaterthannumber" target=""><code>.toBeGreaterThan(number)</code></a></li><li><a href="#tobegreaterthanorequalnumber" target=""><code>.toBeGreaterThanOrEqual(number)</code></a></li><li><a href="#tobelessthannumber" target=""><code>.toBeLessThan(number)</code></a></li><li><a href="#tobelessthanorequalnumber" target=""><code>.toBeLessThanOrEqual(number)</code></a></li><li><a href="#tobeinstanceofclass" target=""><code>.toBeInstanceOf(Class)</code></a></li><li><a href="#tobenull" target=""><code>.toBeNull()</code></a></li><li><a href="#tobetruthy" target=""><code>.toBeTruthy()</code></a></li><li><a href="#tobeundefined" target=""><code>.toBeUndefined()</code></a></li><li><a href="#tocontainitem" target=""><code>.toContain(item)</code></a></li><li><a href="#tocontainequalitem" target=""><code>.toContainEqual(item)</code></a></li><li><a href="#toequalvalue" target=""><code>.toEqual(value)</code></a></li><li><a href="#tohavelengthnumber" target=""><code>.toHaveLength(number)</code></a></li><li><a href="#tomatchregexporstring" target=""><code>.toMatch(regexpOrString)</code></a></li><li><a href="#tomatchobjectobject" target=""><code>.toMatchObject(object)</code></a></li><li><a href="#tomatchsnapshotoptionalstring" target=""><code>.toMatchSnapshot(optionalString)</code></a></li><li><a href="#tothrowerror" target=""><code>.toThrow(error)</code></a></li><li><a href="#tothrowerrormatchingsnapshot" target=""><code>.toThrowErrorMatchingSnapshot()</code></a></li></ul><hr><h2><a class="anchor" name="reference"></a>Reference <a class="hash-link" href="#reference">#</a></h2><h3><a class="anchor" name="expectvalue"></a><code>expect(value)</code> <a class="hash-link" href="#expectvalue">#</a></h3><p>The <code>expect</code> function is used every time you want to test a value. You will rarely call <code>expect</code> by itself. Instead, you will use <code>expect</code> along with a &quot;matcher&quot; function to assert something about a value.</p><p>It&#x27;s easier to understand this with an example. Let&#x27;s say you have a method <code>bestLaCroixFlavor()</code> which is supposed to return the string <code>&#x27;grapefruit&#x27;</code>.
Here&#x27;s how you would test that:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;the best flavor is grapefruit&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestLaCroixFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In this case, <code>toBe</code> is the matcher function. There are a lot of different matcher functions, documented below, to help you test different things.</p><p>The argument to <code>expect</code> should be the value that your code produces, and any argument to the matcher should be the correct value. If you mix them up, your tests will still work, but the error messages on failing tests will look strange.</p><h3><a class="anchor" name="expectextendmatchers"></a><code>expect.extend(matchers)</code> <a class="hash-link" href="#expectextendmatchers">#</a></h3><p>You can use <code>expect.extend</code> to add your own matchers to Jest. For example, let&#x27;s say that you&#x27;re testing a number theory library and you&#x27;re frequently asserting that numbers are divisible by other numbers. You could abstract that into a <code>toBeDivisibleBy</code> matcher:</p><pre class="prism language-javascript">
expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">toBeDivisibleBy</span><span class="token punctuation">(</span>received<span class="token punctuation">,</span> argument<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pass <span class="token operator">=</span> <span class="token punctuation">(</span>received <span class="token operator">%</span> argument <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        pass<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token template-string"><span class="token string">`expected </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>received<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> not to be divisible by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argument<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        pass<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token template-string"><span class="token string">`expected </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>received<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to be divisible by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argument<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;even and odd numbers&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDivisibleBy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeDivisibleBy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Matchers should return an object with two keys. <code>pass</code> indicates whether there was a match or not, and <code>message</code> provides a function with no arguments that returns an error message in case of failure. Thus, when <code>pass</code> is false, <code>message</code> should return the error message for when <code>expect(x).yourMatcher()</code> fails. And when <code>pass</code> is true, <code>message</code> should return the error message for when <code>expect(x).not.yourMatcher()</code> fails.</p><p>These helper functions can be found on <code>this</code> inside a custom matcher:</p><h4><a class="anchor" name="thisisnot"></a><code>this.isNot</code> <a class="hash-link" href="#thisisnot">#</a></h4><p>A boolean to let you know this matcher was called with the negated <code>.not</code> modifier allowing you to flip your assertion.</p><h4><a class="anchor" name="thisutils"></a><code>this.utils</code> <a class="hash-link" href="#thisutils">#</a></h4><p>There are a number of helpful tools exposed on <code>this.utils</code> primarily consisting of the exports from <a href="https://github.com/facebook/jest/tree/master/packages/jest-matcher-utils" target="_blank"><code>jest-matcher-utils</code></a>.</p><p>The most useful ones are <code>matcherHint</code>, <code>printExpected</code> and <code>printReceived</code> to format the error messages nicely. For example, take a look at the implementation for the <code>toBe</code> matcher:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> diff <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;jest-diff&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">toBe</span><span class="token punctuation">(</span>received<span class="token punctuation">,</span> expected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pass <span class="token operator">=</span> received <span class="token operator">===</span> expected<span class="token punctuation">;</span>

    <span class="token keyword">const</span> message <span class="token operator">=</span> pass
      <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">matcherHint</span><span class="token punctuation">(</span><span class="token string">&#x27;.not.toBe&#x27;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;\n\n&#x27;</span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Expected value to not be (using ===):\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printExpected</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Received:\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printReceived</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
      <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> diffString <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> received<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          expand<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>expand<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">matcherHint</span><span class="token punctuation">(</span><span class="token string">&#x27;.toBe&#x27;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;\n\n&#x27;</span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Expected value to be (using ===):\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printExpected</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Received:\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printReceived</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token operator">+</span>
        <span class="token punctuation">(</span>diffString <span class="token operator">?</span> <span class="token template-string"><span class="token string">`\n\nDifference:\n\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>diffString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token punctuation">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>actual<span class="token punctuation">:</span> received<span class="token punctuation">,</span> message<span class="token punctuation">,</span> pass<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>This will print something like this:</p><pre class="prism language-javascript">
  <span class="token function">expect</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span>

    Expected value to be <span class="token punctuation">(</span>using <span class="token operator">===</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token string">&quot;banana&quot;</span>
    Received<span class="token punctuation">:</span>
      <span class="token string">&quot;apple&quot;</span></pre><p>When an assertion fails, the error message should give as much signal as necessary to the user so they can resolve their issue quickly. You should craft a precise failure message to make sure users of your custom assertions have a good developer experience.</p><h3><a class="anchor" name="expectanything"></a><code>expect.anything()</code> <a class="hash-link" href="#expectanything">#</a></h3><p><code>expect.anything()</code> matches anything but <code>null</code> or <code>undefined</code>. You can use it inside <code>toEqual</code> or <code>toBeCalledWith</code> instead of a literal value. For example, if you want to check that a mock function is called with a non-null argument:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;map calls its argument with a non-null argument&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">anything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="expectanyconstructor"></a><code>expect.any(constructor)</code> <a class="hash-link" href="#expectanyconstructor">#</a></h3><p><code>expect.any(constructor)</code> matches anything that was created with the given constructor. You can use it inside <code>toEqual</code> or <code>toBeCalledWith</code> instead of a literal value. For example, if you want to check that a mock function is called with a number:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">randocall</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;randocall calls its callback with a number&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">randocall</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="expectarraycontainingarray"></a><code>expect.arrayContaining(array)</code> <a class="hash-link" href="#expectarraycontainingarray">#</a></h3><p><code>expect.arrayContaining(array)</code> matches any array made up entirely of elements in the provided array. You can use it inside <code>toEqual</code> or <code>toBeCalledWith</code> instead of a literal value. For example, this code checks that <code>rollDice</code> returns only valid numbers:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// Rolls n virtual dice</span>
<span class="token keyword">function</span> <span class="token function">rollDice</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> answer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    answer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> answer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;rollDice only returns valid numbers&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">rollDice</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="expectassertionsnumber"></a><code>expect.assertions(number)</code> <a class="hash-link" href="#expectassertionsnumber">#</a></h3><p><code>expect.assertions(number)</code> verifies that a certain number of assertions are called during a test. This is often useful when testing asynchronous code, in order to make sure that assertions in a callback actually got called.</p><p>For example, let&#x27;s say that we have a few functions that all deal with state. <code>prepareState</code> calls a callback with a state object, <code>validateState</code> runs on that state object, and <code>waitOnState</code> returns a promise that waits until all <code>prepareState</code> callbacks complete. We can test this with:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;prepareState prepares a valid state&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  expect<span class="token punctuation">.</span><span class="token function">assertions</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">prepareState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">validateState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">waitOnState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><p>The <code>expect.assertions(1)</code> call ensures that the <code>prepareState</code> callback actually gets called.</p><h3><a class="anchor" name="expectstringcontainingstring"></a><code>expect.stringContaining(string)</code> <a class="hash-link" href="#expectstringcontainingstring">#</a></h3><p><code>expect.stringContaining(string)</code> matches any string that contains the exact provided string.</p><h3><a class="anchor" name="expectstringmatchingregexp"></a><code>expect.stringMatching(regexp)</code> <a class="hash-link" href="#expectstringmatchingregexp">#</a></h3><p><code>expect.stringMatching(regexp)</code> matches any string that matches the provided regexp. You can use it inside <code>toEqual</code> or <code>toBeCalledWith</code> instead of a literal value. For example, let&#x27;s say you want to test that <code>randomCoolNames()</code> only returns names that are cool:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">randomCoolName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// Generate a last name</span>
  <span class="token keyword">let</span> lastName <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">&#x27;TRFGBNMPLZ&#x27;</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
    <span class="token string">&#x27;aeiou&#x27;</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
    <span class="token string">&#x27;mnbvxdstrp&#x27;</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">&#x27;Kevin &#x27;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">randomCoolNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> answer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    answer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">randomCoolName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> answer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;randomCoolNames only returns cool names&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// A reasonable proxy for whether a name is cool or not</span>
  <span class="token keyword">let</span> coolRegex <span class="token operator">=</span> <span class="token regex">/^Kevin/</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>randomCoolNames<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>
    expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">stringMatching</span><span class="token punctuation">(</span>coolRegex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>This example also shows how you can nest multiple asymmetric matchers, with <code>expect.stringMatching</code> inside the <code>expect.arrayContaining</code>.</p><h3><a class="anchor" name="expectobjectcontainingobject"></a><code>expect.objectContaining(object)</code> <a class="hash-link" href="#expectobjectcontainingobject">#</a></h3><p><code>expect.objectContaining(object)</code> matches any object that recursively matches the provided keys. This is often handy in conjunction with other asymmetric matchers.</p><p>For example, let&#x27;s say that we expect an <code>onPress</code> function to be called with an <code>Event</code> object, and all we need to verify is that the event has <code>event.x</code> and <code>event.y</code> properties. We can do that with:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onPress gets called with the right thing&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> onPress <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">simulatePresses</span><span class="token punctuation">(</span>onPress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>onPress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">objectContaining</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="not"></a><code>.not</code> <a class="hash-link" href="#not">#</a></h3><p>If you know how to test something, <code>.not</code> lets you test its opposite. For example, this code tests that the best La Croix flavor is not coconut:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;the best flavor is not coconut&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestLaCroixFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;coconut&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobevalue"></a><code>.toBe(value)</code> <a class="hash-link" href="#tobevalue">#</a></h3><p><code>toBe</code> just checks that a value is what you expect. It uses <code>===</code> to check
strict equality.</p><p>For example, this code will validate some properties of the <code>beverage</code> object:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> can <span class="token operator">=</span> <span class="token punctuation">{</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">&#x27;pamplemousse&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;has 12 ounces&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can<span class="token punctuation">.</span>ounces<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;has a sophisticated name&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;pamplemousse&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Don&#x27;t use <code>toBe</code> with floating-point numbers. For example, due to rounding, in JavaScript <code>0.2 + 0.1</code> is not strictly equal to <code>0.3</code>. If you have floating point numbers, try <code>.toBeCloseTo</code> instead.</p><h3><a class="anchor" name="tohavebeencalled"></a><code>.toHaveBeenCalled()</code> <a class="hash-link" href="#tohavebeencalled">#</a></h3><p>Also under the alias: <code>.toBeCalled()</code></p><p>Use <code>.toHaveBeenCalled</code> to ensure that a mock function got called.</p><p>For example, let&#x27;s say you have a <code>drinkAll(drink, flavor)</code> function that takes a <code>drink</code> function and applies it to all available beverages. You might want to check that <code>drink</code> gets called for <code>&#x27;lemon&#x27;</code>, but not for <code>&#x27;octopus&#x27;</code>, because <code>&#x27;octopus&#x27;</code> flavor is really weird and why would anything be octopus-flavored? You can do that with this test suite:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinkAll&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;drinks something lemon-flavored&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">drinkAll</span><span class="token punctuation">(</span>drink<span class="token punctuation">,</span> <span class="token string">&#x27;lemon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;does not drink something octopus-flavored&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">drinkAll</span><span class="token punctuation">(</span>drink<span class="token punctuation">,</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeencalledtimesnumber"></a><code>.toHaveBeenCalledTimes(number)</code> <a class="hash-link" href="#tohavebeencalledtimesnumber">#</a></h3><p>Use <code>.toHaveBeenCalledTimes</code> to ensure that a mock function got called exact number of times.</p><p>For example, let&#x27;s say you have a <code>drinkEach(drink, Array&lt;flavor&gt;)</code> function that takes a <code>drink</code> function and applies it to array of passed beverages. You might want to check that drink function was called exact number of times. You can do that with this test suite:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;drinkEach drinks each drink&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">drinkEach</span><span class="token punctuation">(</span>drink<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;lemon&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeencalledwitharg1-arg2-"></a><code>.toHaveBeenCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#tohavebeencalledwitharg1-arg2-">#</a></h3><p>Also under the alias: <code>.toBeCalledWith</code></p><p>Use <code>.toHaveBeenCalledWith</code> to ensure that a mock function was called with specific arguments.</p><p>For example, let&#x27;s say that you can register a beverage with a <code>register</code> function, and <code>applyToAll(f)</code> should apply the function <code>f</code> to all registered beverages. To make sure this works, you could write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;registration applies correctly to orange La Croix&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> beverage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LaCroix</span><span class="token punctuation">(</span><span class="token string">&#x27;orange&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span>beverage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> f <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">applyToAll</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span>beverage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeenlastcalledwitharg1-arg2-"></a><code>.toHaveBeenLastCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#tohavebeenlastcalledwitharg1-arg2-">#</a></h3><p>Also under the alias: <code>.lastCalledWith(arg1, arg2, ...)</code></p><p>If you have a mock function, you can use <code>.toHaveBeenLastCalledWith</code> to test what arguments it was last called with. For example, let&#x27;s say you have a <code>applyToAllFlavors(f)</code> function that applies <code>f</code> to a bunch of flavors, and you want to ensure that when you call it, the last flavor it operates on is <code>&#x27;mango&#x27;</code>. You can write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;applying to all flavors does mango last&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">applyToAllFlavors</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenLastCalledWith</span><span class="token punctuation">(</span><span class="token string">&#x27;mango&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobeclosetonumber-numdigits"></a><code>.toBeCloseTo(number, numDigits)</code> <a class="hash-link" href="#tobeclosetonumber-numdigits">#</a></h3><p>Using exact equality with floating point numbers is a bad idea. Rounding means that intuitive things fail. For example, this test fails:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;adding works sanely with simple decimals&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Fails!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>It fails because in JavaScript, <code>0.2 + 0.1</code> is actually <code>0.30000000000000004</code>. Sorry.</p><p>Instead, use <code>.toBeCloseTo</code>. Use <code>numDigits</code> to control how many digits after the decimal point to check. For example, if you want to be sure that <code>0.2 + 0.1</code> is equal to <code>0.3</code> with a precision of 5 decimal digits, you can use this test:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;adding works sanely with simple decimals&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>The default for <code>numDigits</code> is 2, which has proved to be a good default in most cases.</p><h3><a class="anchor" name="tobedefined"></a><code>.toBeDefined()</code> <a class="hash-link" href="#tobedefined">#</a></h3><p>Use <code>.toBeDefined</code> to check that a variable is not undefined. For example, if you just want to check that a function <code>fetchNewFlavorIdea()</code> returns <em>something</em>, you can write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;there is a new flavor idea&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">fetchNewFlavorIdea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>You could write <code>expect(fetchNewFlavorIdea()).not.toBe(undefined)</code>, but it&#x27;s better practice to avoid referring to <code>undefined</code> directly in your code.</p><h3><a class="anchor" name="tobefalsy"></a><code>.toBeFalsy()</code> <a class="hash-link" href="#tobefalsy">#</a></h3><p>Use <code>.toBeFalsy</code> when you don&#x27;t care what a value is, you just want to ensure a value is false in a boolean context. For example, let&#x27;s say you have some application code that looks like:</p><pre class="prism language-javascript">
<span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drinkMoreLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>You may not care what <code>getErrors</code> returns, specifically - it might return <code>false</code>, <code>null</code>, or <code>0</code>, and your code would still work. So if you want to test there are no errors after drinking some La Croix, you could write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking La Croix does not lead to errors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In JavaScript, there are six falsy values: <code>false</code>, <code>0</code>, <code>&#x27;&#x27;</code>, <code>null</code>, <code>undefined</code>, and <code>NaN</code>. Everything else is truthy.</p><h3><a class="anchor" name="tobegreaterthannumber"></a><code>.toBeGreaterThan(number)</code> <a class="hash-link" href="#tobegreaterthannumber">#</a></h3><p>To compare floating point numbers, you can use <code>toBeGreaterThan</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of more than 10 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can is more than 10&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobegreaterthanorequalnumber"></a><code>.toBeGreaterThanOrEqual(number)</code> <a class="hash-link" href="#tobegreaterthanorequalnumber">#</a></h3><p>To compare floating point numbers, you can use <code>toBeGreaterThanOrEqual</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of at least 12 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can is at least 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthannumber"></a><code>.toBeLessThan(number)</code> <a class="hash-link" href="#tobelessthannumber">#</a></h3><p>To compare floating point numbers, you can use <code>toBeLessThan</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of less than 20 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can is less than 20&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthanorequalnumber"></a><code>.toBeLessThanOrEqual(number)</code> <a class="hash-link" href="#tobelessthanorequalnumber">#</a></h3><p>To compare floating point numbers, you can use <code>toBeLessThanOrEqual</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of at most 12 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can is at most 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobeinstanceofclass"></a><code>.toBeInstanceOf(Class)</code> <a class="hash-link" href="#tobeinstanceofclass">#</a></h3><p>Use <code>.toBeInstanceOf(Class)</code> to check that an object is an instance of a class. This matcher uses <code>instanceof</code> underneath.</p><pre class="prism language-javascript">
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>Function<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>Function<span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// throws</span></pre><h3><a class="anchor" name="tobenull"></a><code>.toBeNull()</code> <a class="hash-link" href="#tobenull">#</a></h3><p><code>.toBeNull()</code> is the same as <code>.toBe(null)</code> but the error messages are a bit nicer. So use <code>.toBeNull()</code> when you want to check that something is null.</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;bloop returns null&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobetruthy"></a><code>.toBeTruthy()</code> <a class="hash-link" href="#tobetruthy">#</a></h3><p>Use <code>.toBeTruthy</code> when you don&#x27;t care what a value is, you just want to ensure a value is true in a boolean context. For example, let&#x27;s say you have some application code that looks like:</p><pre class="prism language-javascript">
<span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">thirstInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drinkMoreLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>You may not care what <code>thirstInfo</code> returns, specifically - it might return <code>true</code> or a complex object, and your code would still work. So if you just want to test that <code>thirstInfo</code> will be truthy after drinking some La Croix, you could write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking La Croix leads to having thirst info&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">thirstInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In JavaScript, there are six falsy values: <code>false</code>, <code>0</code>, <code>&#x27;&#x27;</code>, <code>null</code>, <code>undefined</code>, and <code>NaN</code>. Everything else is truthy.</p><h3><a class="anchor" name="tobeundefined"></a><code>.toBeUndefined()</code> <a class="hash-link" href="#tobeundefined">#</a></h3><p>Use <code>.toBeUndefined</code> to check that a variable is undefined. For example, if you want to check that a function <code>bestDrinkForFlavor(flavor)</code> returns <code>undefined</code> for the <code>&#x27;octopus&#x27;</code> flavor, because there is no good octopus-flavored drink:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;the best drink for octopus flavor is undefined&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestDrinkForFlavor</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>You could write <code>expect(bestDrinkForFlavor(&#x27;octopus&#x27;)).toBe(undefined)</code>, but it&#x27;s better practice to avoid referring to <code>undefined</code> directly in your code.</p><h3><a class="anchor" name="tocontainitem"></a><code>.toContain(item)</code> <a class="hash-link" href="#tocontainitem">#</a></h3><p>Use <code>.toContain</code> when you want to check that an item is in a list. For testing the items in the list, this uses <code>===</code>, a strict equality check.</p><p>For example, if <code>getAllFlavors()</code> returns a list of flavors and you want to be sure that <code>lime</code> is in there, you can write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;the flavor list contains lime&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getAllFlavors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&#x27;lime&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tocontainequalitem"></a><code>.toContainEqual(item)</code> <a class="hash-link" href="#tocontainequalitem">#</a></h3><p>Use <code>.toContainEqual</code> when you want to check that an item is in a list.
For testing the items in the list, this  matcher recursively checks the equality of all fields, rather than checking for object identity.</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;my beverage&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;is delicious and not sour&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> myBeverage <span class="token operator">=</span> <span class="token punctuation">{</span>delicious<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span> sour<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">myBeverages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContainEqual</span><span class="token punctuation">(</span>myBeverage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="toequalvalue"></a><code>.toEqual(value)</code> <a class="hash-link" href="#toequalvalue">#</a></h3><p>Use <code>.toEqual</code> when you want to check that two objects have the same value. This matcher recursively checks the equality of all fields, rather than checking for object identity. For example, <code>toEqual</code> and <code>toBe</code> behave differently in this test suite, so all the tests pass:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> can1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  flavor<span class="token punctuation">:</span> <span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">,</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> can2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  flavor<span class="token punctuation">:</span> <span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">,</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the La Croix cans on my desk&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;have all the same properties&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>can2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;are not the exact same can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can1<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>can2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavelengthnumber"></a><code>.toHaveLength(number)</code> <a class="hash-link" href="#tohavelengthnumber">#</a></h3><p>Use <code>.toHaveLength</code> to check that an object has a <code>.length</code> property and it is set to a certain numeric value.</p><p>This is especially useful for checking arrays or strings size.</p><pre class="prism language-javascript">
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatchregexporstring"></a><code>.toMatch(regexpOrString)</code> <a class="hash-link" href="#tomatchregexporstring">#</a></h3><p>Use <code>.toMatch</code> to check that a string matches a regular expression.</p><p>For example, you might not know what exactly <code>essayOnTheBestFlavor()</code> returns, but you know it&#x27;s a really long string, and the substring <code>grapefruit</code> should be in there somewhere. You can test this with:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;an essay on the best flavor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;mentions grapefruit&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">essayOnTheBestFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token regex">/grapefruit/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">essayOnTheBestFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><p>This matcher also accepts a string, which it will try to match:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruits are healthy&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruits are a fruit&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruits&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token string">&#x27;fruit&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="tomatchobjectobject"></a><code>.toMatchObject(object)</code> <a class="hash-link" href="#tomatchobjectobject">#</a></h3><p>Use <code>.toMatchObject</code> to check that a JavaScript object matches a subset of the properties of an object.</p><pre class="prism language-javascript">
<span class="token keyword">const</span> houseForSale <span class="token operator">=</span> <span class="token punctuation">{</span>
    bath<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
    kitchen<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        amenities<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;oven&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;stove&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;washer&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        area<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        wallColor<span class="token punctuation">:</span> <span class="token string">&#x27;white&#x27;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  bedrooms<span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> desiredHouse <span class="token operator">=</span> <span class="token punctuation">{</span>
    bath<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
    kitchen<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        amenities<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;oven&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;stove&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;washer&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        wallColor<span class="token punctuation">:</span> <span class="token string">&#x27;white&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;the house has my desired features&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>houseForSale<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span>desiredHouse<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatchsnapshotoptionalstring"></a><code>.toMatchSnapshot(optionalString)</code> <a class="hash-link" href="#tomatchsnapshotoptionalstring">#</a></h3><p>This ensures that a value matches the most recent snapshot. Check out <a href="/jest/docs/snapshot-testing.html" target="">the Snapshot Testing guide</a> for more information.</p><p>You can also specify an optional snapshot name. Otherwise, the name is inferred from the test.</p><p><em>Note: While snapshot testing is most commonly used with React components, any serializable value can be used as a snapshot.</em></p><h3><a class="anchor" name="tothrowerror"></a><code>.toThrow(error)</code> <a class="hash-link" href="#tothrowerror">#</a></h3><p>Also under the alias: <code>.toThrowError(error)</code></p><p>Use <code>.toThrow</code> to test that a function throws when it is called. For example, if we want to test that <code>drinkFlavor(&#x27;octopus&#x27;)</code> throws, because octopus flavor is too disgusting to drink, we could write:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;throws on octopus&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">drinkFlavor</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>If you want to test that a specific error gets thrown, you can provide an argument to <code>toThrow</code>.  The argument can be a string for the error message, a class for the error, or a regex that should match the error. For example, let&#x27;s say that <code>drinkFlavor</code> is coded like this:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">drinkFlavor</span><span class="token punctuation">(</span>flavor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flavor <span class="token operator">==</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">DisgustingFlavorError</span><span class="token punctuation">(</span><span class="token string">&#x27;yuck, octopus flavor&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span spellcheck="true" class="token comment">// Do some other stuff</span>
<span class="token punctuation">}</span></pre><p>We could test this error gets thrown in several ways:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;throws on octopus&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">drinkOctopus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drinkFlavor</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span spellcheck="true" class="token comment">// Test the exact error message</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token string">&#x27;yuck, octopus flavor&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// Test that the error message says &quot;yuck&quot; somewhere</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex">/yuck/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// Test that we get a DisgustingFlavorError</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span>DisgustingFlavorError<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tothrowerrormatchingsnapshot"></a><code>.toThrowErrorMatchingSnapshot()</code> <a class="hash-link" href="#tothrowerrormatchingsnapshot">#</a></h3><p>Use <code>.toThrowErrorMatchingSnapshot</code> to test that a function throws a error matching the most recent snapshot when it is called. For example, let&#x27;s say you have a <code>drinkFlavor</code> function that throws whenever the flavor is <code>&#x27;octopus&#x27;</code>, and is coded like this:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">drinkFlavor</span><span class="token punctuation">(</span>flavor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flavor <span class="token operator">==</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">DisgustingFlavorError</span><span class="token punctuation">(</span><span class="token string">&#x27;yuck, octopus flavor&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span spellcheck="true" class="token comment">// Do some other stuff</span>
<span class="token punctuation">}</span></pre><p>The test for this function will look this way:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;throws on octopus&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">drinkOctopus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drinkFlavor</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowErrorMatchingSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>And it will generate the following snapshot:</p><pre class="prism language-javascript">
exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`drinking flavors throws on octopus 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> `<span class="token string">&quot;yuck, octopus flavor&quot;</span>`<span class="token punctuation">;</span></pre><p>Check out <a href="http://facebook.github.io/jest/blog/2016/07/27/jest-14.html" target="_blank">React Tree Snapshot Testing</a> for more information on snapshot testing.</p></div></article></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/getting-started.html">Getting Started</a><a href="/jest/docs/snapshot-testing.html">Guides</a><a href="/jest/docs/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>